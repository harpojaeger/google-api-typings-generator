/* This is stub file for gapi.client.{{=it.name}} definition tests */
/* IMPORTANT. 
 * This file was automatically generated by https://github.com/harpojaeger/google-api-typings-generator.
 * Rather than editing it manually, you may find it useful to re-run the generator script.
 * In case of any problems, feel free to create issues on or make PRs against https://github.com/harpojaeger/google-api-typings-generator. Or just fork it yourself!
 **/

gapi.load('client', () => { 
    // now we can use gapi.client
    
    gapi.client.load('{{=it.name}}', '{{=it.version}}', () => {
        // now we can use gapi.client.{{=it.name}}
{{? it.auth }}   
        // don't forget to authenticate your client before sending any request to resources:     
        // declare client_id registered in Google Developers Console
        const client_id = '<<PUT YOUR CLIENT ID HERE>>';
        const scope = [ {{ for(var scope in it.auth.oauth2.scopes) { }}    
                // {{=it.auth.oauth2.scopes[scope].description}}
                '{{=scope}}',
        {{ } }}    ];
        const immediate = true;

        gapi.auth.authorize({ client_id, scope, immediate }, authResult => {
            if (authResult && !authResult.error) {
                /* handle succesfull authorization */
                run();
            } else {
                /* handle authorization error */
            }
        }); {{?}}{{? !it.auth }}  
        run();
{{?}}
    });

    async function run() { {{ for(var resource in it.resources) { }}{{ for(var method in it.resources[resource].methods) { }} 
        {{? it.resources[resource].methods[method].description }}{{ for(var comment of it.resources[resource].methods[method].description.split(/\r\n|\r|\n|\u000a\u000d|\u000a|\u000d|\u240a/g)) { }}
        // {{=comment}}{{ } }}{{?}}
        await gapi.client.{{=resource}}.{{=method}}({ {{ for(var parameter in it.resources[resource].methods[method].parameters) { }}{{? it.resources[resource].methods[method].parameters[parameter].required }}{{=it.formatPropertyName(parameter) }}: {{? it.resources[resource].methods[method].parameters[parameter].type === 'integer'}}1{{?}}{{? it.resources[resource].methods[method].parameters[parameter].type === 'string'}}"{{=parameter}}"{{?}}{{? it.resources[resource].methods[method].parameters[parameter].type === 'boolean'}}false{{?}}, {{?}}{{ } }} });{{ }}}{{ }}}
    }
});
